<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UFT-8">
        <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Condensed:900&display=swap">
    </head>
    <body>
        <header class="header">
            <a href="http://127.0.0.1:5000/"><img src="/static/images/logo_dark.png" alt="logo" class="logo"></a>
    
            <nav class="navbarDark">
                <a href="#">How it Works</a>
                <a href="#">About</a>
                <a href="#">Contact</a>
                <a href="http://127.0.0.1:5000/profile/emilie"><img src="/static/images/emilie.jpg" alt="Profile Image" class="profile-image"></a>
            </nav>
    </header>
    <form action="/profile/emilie" method="post">

        <label>
            <!-- Føtex -->
            <input class="checkbox-container" type="checkbox" name="store[]" id="føtex" value="Føtex" checked>
            <img class="logo-size" src="/static/images/føtex_logo.png" alt="Føtex">
        </label>

        <label>
            <!-- Rema 1000 -->
            <input class="checkbox-container" type="checkbox" name="store[]" id="rema1000" value="Rema 1000" checked>
            <img class="logo-size" src="/static/images/Rema_logo.png" alt="Rema 1000">
        </label>

        <label>
            <!-- Netto -->
            <input class="checkbox-container" type="checkbox" name="store[]" id="netto" value="Netto" checked>
            <img class="logo-size" src="/static/images/Netto_logo.png" alt="netto">
        </label>

        <label>
            <!-- Lidl -->
            <input class="checkbox-container" type="checkbox" name="store[]" id="lidl" value="Lidl" checked>
            <img class="logo-size" src="/static/images/Lidl_logo.png" alt="Lidl">
        </label>

        <label>
            <!-- Coop365 -->
            <input class="checkbox-container" type="checkbox" name="store[]" id="coop365" value="Coop 365" checked>
            <img class="logo-size" src="/static/images/Coop_logo.png" alt="Coop 365">
        </label>
        <button style="text-align: center; margin-top: 25px;" class="button" type="submit">Save Favorite Stores</button>
    </form>

    <script>
        // Function to load checkbox state from local storage
        function loadCheckboxState(checkboxId) {
            const checkbox = document.getElementById(checkboxId);
            checkbox.checked = localStorage.getItem(checkboxId) === 'true'; 
        }
            
        // Function to save checkbox state to local storage
        function saveCheckboxState(checkboxId, isChecked) {
            localStorage.setItem(checkboxId, isChecked);
        }

        // Load the state of each checkbox on page load
        loadCheckboxState('føtex');
        loadCheckboxState('rema1000');
        loadCheckboxState('netto');
        loadCheckboxState('lidl');
        loadCheckboxState('coop365');

        // Add change event listeners to each checkbox
        document.getElementById('føtex').addEventListener('change', function() {
            saveCheckboxState('føtex', this.checked);
        }); 

        document.getElementById('rema1000').addEventListener('change', function() {
            saveCheckboxState('rema1000', this.checked);
        }); 

        document.getElementById('netto').addEventListener('change', function() {
            saveCheckboxState('netto', this.checked);
        }); 

        document.getElementById('lidl').addEventListener('change', function() {
            saveCheckboxState('lidl', this.checked);
        }); 

        document.getElementById('coop365').addEventListener('change', function() {
            saveCheckboxState('coop365', this.checked);
        }); 

    </script>

    </body>
</html>