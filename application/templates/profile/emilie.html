<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Emilie | Flux</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Condensed:900&display=swap">
    </head>
    <body>

        <header class="header" style="background-color: #fdfdfd;">
            <a href="http://127.0.0.1:5000/"><img src="/static/images/logo_dark.png" alt="logo" class="logo"></a>
    
            <nav class="navbarDark">
                <a href="#">How it Works</a>
                <a href="#">About</a>
                <a href="#">Contact</a>
                <a href="http://127.0.0.1:5000/profile/emilie"><img src="/static/images/emilie.jpg" alt="Profile Image" class="profile-image"></a>
            </nav>
        </header>

    <form class="boxed-form" action="/profile/emilie" method="post">
        <div>
            <h2>Favorite Stores</h2>
        </div>
        <div>
            <label>
                <!-- Føtex -->
                <input class="checkbox-container" type="checkbox" name="store[]" id="føtex" value="Føtex" checked>
                <img class="logo-size" src="/static/images/føtex_logo.png" alt="Føtex">
            </label>
        </div>

        <div>
            <label>
                <!-- Rema 1000 -->
                <input class="checkbox-container" type="checkbox" name="store[]" id="rema1000" value="Rema 1000" checked>
                <img class="logo-size" src="/static/images/Rema_logo.png" alt="Rema 1000">
            </label>
        </div>

        <div>
            <label>
                <!-- Coop365 -->
                <input class="checkbox-container" type="checkbox" name="store[]" id="coop365" value="Coop 365" checked>
                <img class="logo-size" style="border-radius: 15px;" src="/static/images/Coop_logo.png" alt="Coop 365">
            </label>
        </div>

        <div>
            <label>
                <!-- Netto -->
                <input class="checkbox-container" type="checkbox" name="store[]" id="netto" value="Netto" checked>
                <img class="logo-size" style="border-radius: 15px;" src="/static/images/Netto_logo.png" alt="netto">
            </label>
        </div>

        <div>
        <label>
            <!-- Lidl -->
            <input class="checkbox-container" type="checkbox" name="store[]" id="lidl" value="Lidl" checked>
            <img class="logo-size" style="border-radius: 15px;" src="/static/images/Lidl_logo.png" alt="Lidl">
        </label>
        </div>

        <div style="padding-top: 30px;">
            <button class="button" type="submit">Save Favorite Stores</button>
        </div>

    </form>

    <script>
        // Function to load checkbox state from local storage
        function loadCheckboxState(checkboxId) {
            const checkbox = document.getElementById(checkboxId);
            if (checkbox) {
                const storedValue = localStorage.getItem(checkboxId);
                checkbox.checked = storedValue === 'true';
            } else {
                console.error(`Checkbox with ID ${checkboxId} not found.`);
            }
        }
            
        // Function to save checkbox state to local storage
        function saveCheckboxState(checkboxId, isChecked) {
            localStorage.setItem(checkboxId, isChecked);
        }
    
        // Load the state of each checkbox on page load
        loadCheckboxState('føtex');
        loadCheckboxState('rema1000');
        loadCheckboxState('coop365');
        loadCheckboxState('netto');
        loadCheckboxState('lidl');
    
        // Add change event listeners to each checkbox
        document.getElementById('føtex').addEventListener('change', function() {
            saveCheckboxState('føtex', this.checked);
        }); 
    
        document.getElementById('rema1000').addEventListener('change', function() {
            saveCheckboxState('rema1000', this.checked);
        }); 
    
        document.getElementById('coop365').addEventListener('change', function() {
            saveCheckboxState('coop365', this.checked);
        }); 
    
        document.getElementById('netto').addEventListener('change', function() {
            saveCheckboxState('netto', this.checked);
        }); 
    
        document.getElementById('lidl').addEventListener('change', function() {
            saveCheckboxState('lidl', this.checked);
        }); 
    </script>
    
    </body>
</html>